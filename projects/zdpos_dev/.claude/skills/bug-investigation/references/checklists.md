# Checklists

## Table of Contents
- Phase 5 knowledge checklist
- Full investigation checklist

## Phase 5 knowledge checklist

```markdown
### Phase 5: 知識文件化
- [ ] 已檢查現有知識庫
- [ ] 已建立/更新功能知識文件
- [ ] 已記錄資料流向
- [ ] 已列出關鍵函數與檔案位置
- [ ] 已記錄相關資料表
- [ ] 已確認 solution-proposal.md 完整
```

## Full investigation checklist

```markdown
## 調查檢查清單

### Phase 1: 問題釐清
- [ ] 理解預期與實際行為
- [ ] 獲取樣本資料 (ID、時間戳記)
- [ ] 建立調查文件
- [ ] 記錄阻礙與缺口（如有）

### Phase 2: 證據蒐集
- [ ] 執行資料庫驗證查詢
- [ ] 記錄資料表/欄位的差異
- [ ] 識別資料矛盾
- [ ] 跨層蒐證（多元件系統）

### Phase 3: 根因分析
- [ ] 描繪完整資料流向
- [ ] 對照可運作的相似流程
- [ ] 搜尋關鍵變數 (使用 ripgrep/scripts)
- [ ] 識別分歧點/問題程式碼
- [ ] 建立單一假設並做最小驗證
- [ ] 記錄根本原因

### Phase 4: 修正方案設計
- [ ] 建立 solution-proposal.md
- [ ] 提出 2-3 個解決方案選項
- [ ] 向使用者呈現建議
- [ ] 建立失敗測試/最小重現
- [ ] 實作同意的解決方案
- [ ] 建立 OpenSpec proposal (如適用)
- [ ] 透過測試驗證修復
- [ ] 修復失敗 2 次以上時回到 Phase 1-3

### Phase 5: 知識文件化
- [ ] 檢查現有知識庫
- [ ] 建立/更新功能知識文件
- [ ] 記錄資料流向 (data-flow.md)
- [ ] 列出關鍵 function 及檔案位置 (key-functions.md)
- [ ] 記錄相關資料表 (related-tables.md)
- [ ] 確認 solution-proposal.md 完整
```
